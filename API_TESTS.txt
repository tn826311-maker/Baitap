#!/bin/bash

# Postman Collection Alternative - Manual API Test Instructions
# Save as: API_TESTS.md

# ===== LEVEL 1 API TESTS =====

## 1. User Registration
curl -X POST http://localhost:3000/api/users/register \
  -H "Content-Type: application/json" \
  -d '{
    "firstName": "Nguyễn",
    "lastName": "Văn A",
    "username": "nguyenvana",
    "email": "nguyenvana@mail.com",
    "password": "password123"
  }'

## 2. User Login
curl -X POST http://localhost:3000/api/users/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "nguyenvana",
    "password": "password123"
  }'

## 3. Get All Users
curl http://localhost:3000/api/users/all

## 4. Create Task (Replace TOKEN with actual token from login)
curl -X POST http://localhost:3000/api/tasks/create \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer TOKEN_HERE" \
  -d '{
    "title": "Hoàn thành báo cáo tháng",
    "description": "Chuẩn bị báo cáo tháng 2",
    "priority": "high"
  }'

## 5. Get All Tasks (Level 1)
curl http://localhost:3000/api/tasks/all

## 6. Get Tasks by Username (Level 1)
curl http://localhost:3000/api/tasks/user/nguyenvana

## 7. Get Today's Tasks (Level 1)
curl http://localhost:3000/api/tasks/today/all

## 8. Get Incomplete Tasks (Level 1)
curl http://localhost:3000/api/tasks/incomplete/all

## 9. Get Tasks from Users with Last Name "Nguyễn" (Level 1)
curl http://localhost:3000/api/tasks/author/nguyen

## 10. Mark Task as Complete (Level 3)
curl -X PUT http://localhost:3000/api/tasks/TASK_ID_HERE/complete \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer TOKEN_HERE"

## 11. Assign Task to User (Level 3)
curl -X PUT http://localhost:3000/api/tasks/TASK_ID_HERE/assign \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer TOKEN_HERE" \
  -d '{
    "userId": "USER_ID_HERE"
  }'

## 12. Delete Task
curl -X DELETE http://localhost:3000/api/tasks/TASK_ID_HERE \
  -H "Authorization: Bearer TOKEN_HERE"

# Replace placeholders:
# - TOKEN_HERE: Get from login response
# - TASK_ID_HERE: Get from create task response
# - USER_ID_HERE: Get from register or /api/users/all response
